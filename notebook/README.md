# Notebook

This directory contains a set of Jupyter notebooks that are designed to process Mobile Positioning Data (MPD) and calculate an SDG Indicator. MPD is a type of data that is generated by mobile network operators when subscribers use their phones. It contains information about the location of the phone at different times, as well as other metadata such as the time of day and the type of network used.

It's important to note that the notebooks in the `notebook` directory should be run in sequence as each notebook depends on the output of the previous one. Running them out of order may result in errors or unexpected behavior.

We will soon also provide the notebook to generate a simple synthetic datasets for testing purpose:
- 00-Generate Synthetic Data.ipynb 
- 00-Generate CRM Data.ipynb

and notebook tutorial for installing the local version of spark:
- Setup Local Environment

# List of Notebooks

## Synthetic data - coming soon (Optional)

There are two notebooks which generates synthetic data that mimics the structure and characteristics of Mobile Positioning Data (MPD). The generated data can be used for testing purposes. The notebook uses Python libraries such as `numpy` and `pandas` to generate the synthetic data.
- Input: -
- Output: `MPD_sample_synthetic.csv`

## 00-Generate CRM Data.ipynb (Optional)
This notebook generates synthetic metadata to be used for indciator calculation, such as gender & age group.
- Input: -
- Output: `MPD_sample_synthetic_CRM.csv` & `MPD_sample_synthetic_zone.csv`

## 00-Setup Local Environment (Optional).ipynb
This notebook provides guideline for the instalation of PySpark on a Macbook/Linux.

## 01a-Sanity Checks.ipynb

This notebook checks the input file for inconsistencies. 

## 01b-Processing Raw MPD.ipynb

This notebook processes raw Mobile Positioning Data (MPD) by doing some data transformation, merging, and filtering according to some rules. The output of this notebook is a processed MPD dataset that can be used for further analysis.
- Input: `MPD_sample_synthetic.csv`
- Output: `MPD_sample_synthetic_filtered`

## 02-MPD Quality Assurance (QA).ipynb

This notebook performs quality assurance on the processed MPD data. It checks for missing values, outliers, and other anomalies. The output of this notebook is a QA report that summarizes the quality of the input data.
- Input: `MPD_sample_synthetic_filtered`
- Output: `02_QA/`

## 03-MPD Anchoring.ipynb

This notebook processes the filtered MPD data to determine the subscriber's home location using the anchoring method. The anchoring method is a technique that uses the most frequently visited location of the subscriber to determine their home location. The output of this notebook is a dataset that contains the home locations of the subscribers.
- Input: `MPD_sample_synthetic_filtered`
- Output: `03_Anchoring/user_anchor_final`

## 04-Calculate Indicator.ipynb

This notebook uses the result from the anchoring notebook to calculate an SDG Indicator: Proportion of the Population Using the Internet. The SDG Indicator is calculated by dividing the number of subscribers who use the internet by the total number of subscribers in the dataset. The output of this notebook is a report that summarizes the SDG Indicator for the input data.
- Input: `03_Anchoring/user_anchor_final`
- Output: `04_Indicator/`
